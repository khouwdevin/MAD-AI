{% load static %}
<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot page</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="{% static 'css/chatbotfieldStyle.css' %}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>

<body onload=showChat()>
    <!-- header -->
    <header class="container-fluid">
        <div class="row justify-content-between align-items-center">
            <!-- logo -->
            <div class="col-2">
                <img src="{% static 'img/logo.png' %}" alt="headerlogo" id='headerlogo'>
            </div>
            <!-- navbar -->
            <nav class="col-9 mr-2">
                <div class="row float-right text-center text-white font-weight-bold">
                    <!-- navbar homepage -->
                    <a href="http://127.0.0.1:8000" class="text-decoration-none">
                        <div class="p-3 border navi"> HOME </div>
                    </a>
                    <!-- navbar chatbot ai -->
                    <a href="http://127.0.0.1:8000/chatbotpage/" class="text-decoration-none">
                        <div class="p-3 border navi"> CHECKING </div>
                    </a>
                    <!-- navbar booking -->
                    <a href="http://127.0.0.1:8000/booking/" class="text-decoration-none">
                        <div class="p-3 border navi"> BOOKING </div>
                    </a>
                    <!-- navbar info penyakit -->
                    <a href="#" class="text-decoration-none">
                        <div class="p-3 border navi"> INFORMATION </div>
                    </a>
                    <!-- navbar about us -->
                    <a href="http://127.0.0.1:8000/aboutus/" id="about" class="text-decoration-none">
                        <div class="p-3 border navi"> ABOUT US </div>
                    </a>
                </div>
            </nav>
        </div>
    </header>

	<section class="container mt-4 mb-2">
		<div class="row">
			<!-- area for coversation -->
			<div class="col-lg-6 col-md-9 col-sm-10 col-11 text-center" id="area">
				<!-- chatbot -->
				<div id="Chatbot">
					<div class="row mt-5 mr-1">
						<!-- teks for bot -->
						<div class="col-10 text-right" id="chatbot">
							<div class="row text-right">
								<div class="col-10"></div>
								<div class="col-2">
									<table id="bott">
										<tr><td>Bot</td></tr>
									</table>
								</div>
							</div>
							<div class="row text-right">
								<div class="col-6"></div>
								<!-- bot teks content -->
								<div class="col-6" id="textbot">
									Hello, I'm bot. Can i help you?
								 </div>
							</div>
						</div>
						<!-- bot logo -->
						<div class="col-2" id="botlogo">
							<img id="botlogo" src="{% static 'img/chatbot.png' %}" alt='bot logo' id='headerlogo'>
						</div>
					</div>
				</div>
				<!-- user chat -->
				<div id="User">
					<div class="row mt-4">
						<!-- user logo -->
						<div class="col-1 mr-4">
							<img id="userlogo" src="{% static 'img/userlogo.png' %}" alt='user logo'>
						</div>
						<!-- teks for user -->
						<div class="col-10 text-left" id="chatuser">
							<div class="row">
								<div class="col-12">
									<table>
										<tr><td>User</td></tr>
									</table>
								</div>
							</div>
							<!-- user teks content -->
							<div class="row">
								<div class="col-6" id="textuser"></div>
								<div class="col-6"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="row text-center mt-2">
			<div class="col-12">
				<form action="/chatbotpage/" method="post">
					{% csrf_token %} 
					<input type="text" onkeyup=showUsertext() name="chat" placeholder="Type here..." size='35' id="areateks" value="">
					<button id="button" onclick=type() method="post">
						<img src="{% static 'img/arrow.png' %}" alt="arrow" id="sub">
					</button>
					<button id="button_speech" method="post" value="speech_input" name="speech_input">
						<img src="{% static 'img/speech_logo.png' %}" alt="speech" style="height: 20px; width: 15px;">
					</button>
				</form>	
			</div>
		</div>
	</section>
        
    <!-- footer -->
    <footer class="container-fluid text-center text-white">
        <p class="p-2"> Copyright (｡･∀･)ﾉﾞ <br>MAD 2020</p>
    </footer>


    <script>
        var botmemory = "bye";
        var botreply = "Bye-bye too";
		var data = "{{data|escapejs}}"; 
		function showChat(){
			document.getElementById('Chatbot').style.display = "block";
            document.getElementById('User').style.display = "block";
			document.getElementById('textbot').innerHTML = data;
		}
		
		function showUsertext(){
			var text = document.getElementById ('areateks').value;
			document.getElementById('textuser').innerHTML = text;
		}
		
		function type(){
			total++;
		}
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</body>

</html>
